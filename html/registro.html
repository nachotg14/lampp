<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        
    </style>
</head>
<body>
    <div class="container" style="margin-top: 50px;">
        <h2 class="text-center mb-4">Registro</h2>
        <form action="registro.php" method="POST">
            <div class="form-group">
                <label for="username">Nombre de usuario</label>
                <input type="text" class="form-control" id="username" name="username" placeholder="Nombre de usuario" required>
            </div>
            <div class="form-group">
                <label for="email">Correo electrónico</label>
                <input type="email" class="form-control" id="email" name="email" placeholder="Correo electrónico" required>
            </div>
            <div class="form-group">
                <label for="password">Contraseña</label>
                <input type="password" class="form-control" id="password" name="password" placeholder="Contraseña" required>
                <small id="passwordHelpBlock" class="form-text text-muted">
                    La contraseña debe tener al menos 8 caracteres, incluyendo al menos un número y un carácter especial.
                </small>
                <div id="passwordFeedback" class="invalid-feedback"></div>
            </div>
            <div class="form-group">
                <label for="dni">DNI</label>
                <input type="text" class="form-control" id="dni" name="dni" placeholder="DNI" required>
            </div>
            <button type="submit" class="btn btn-primary btn-block mt-4">Registrarse</button>
        </form>
        
    </div>

    <!-- Bootstrap JS y jQuery (opcional) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $('#password').keyup(function(){
                var password = $(this).val();
                var length = password.length;
                var numberPattern = /[0-9]/;
                var specialCharacterPattern = /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/;
                
                var isLengthValid = length >= 8;
                var hasNumber = numberPattern.test(password);
                var hasSpecialCharacter = specialCharacterPattern.test(password);
                
                var message = '';
                if (!isLengthValid) {
                    message += 'La contraseña debe tener al menos 8 caracteres.<br>';
                }
                if (!hasNumber) {
                    message += 'La contraseña debe contener al menos un número.<br>';
                }
                if (!hasSpecialCharacter) {
                    message += 'La contraseña debe contener al menos un carácter especial (!@#$%^&*()_+-=[]{};\'\\:"|,.<>/?).';
                }

                $('#passwordFeedback').html(message);
                if (isLengthValid && hasNumber && hasSpecialCharacter) {
                    $('#password').removeClass('is-invalid');
                    $('#passwordFeedback').removeClass('invalid-feedback');
                    $('#password').addClass('is-valid');
                    $('#passwordFeedback').addClass('valid-feedback');
                    $('#passwordFeedback').html('Contraseña válida.');
                    $('button[type="submit"]').removeAttr('disabled');
                } else {
                    $('#password').removeClass('is-valid');
                    $('#passwordFeedback').removeClass('valid-feedback');
                    $('#password').addClass('is-invalid');
                    $('#passwordFeedback').addClass('invalid-feedback');
                    $('button[type="submit"]').attr('disabled', 'disabled');
                }
            });
        });
    </script>
</body>
</html>